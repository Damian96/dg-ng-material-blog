<div class="container mb-5 pb-5" *ngIf="!isSearching">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Search for Posts</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="searchPostForm" (ngSubmit)="onSubmit()" class="container py-4">
        <div class="row pb-3">
          <mat-form-field appearance="fill">
            <mat-label>Title Keyword</mat-label>
            <input autofocus matInput formControlName="keyword" type="text" placeholder="Your search keyword" required
              tabindex="1" />
          </mat-form-field>
          <mat-error
            *ngIf="searchPostForm.get('keyword')?.touched && searchPostForm.get('keyword')?.hasError('required')">
            The Title Keyword is required.
          </mat-error>
          <mat-error
            *ngIf="searchPostForm.get('keyword')?.touched && searchPostForm.get('keyword')?.hasError('minlength')">
            The Title Keyword should be at least 3 characters long.
          </mat-error>
        </div>
        <button mat-raised-button color="primary" type="submit" [disabled]="searchPostForm.invalid" tabindex="4">Search
          Post</button>
      </form>
    </mat-card-content>
    <mat-card-footer class="text-center">
      <img src="assets/undraw_searching.svg" class="img-fluid" height="30vh" />
    </mat-card-footer>
  </mat-card>
</div>

<div class="container-fluid d-flex justify-content-center align-items-center" *ngIf="isSearching">
  <mat-spinner></mat-spinner>
</div>

<div class="container mb-5 pb-5" *ngIf="!isSearching && hasSearched">
  <app-post-list [keyword]="searchPostForm.get('keyword') != null && searchPostForm.get('keyword')!.value">
  </app-post-list>
</div>
